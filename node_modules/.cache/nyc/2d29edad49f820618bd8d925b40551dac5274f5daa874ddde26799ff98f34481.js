/* Sample Test */'use strict';var cov_2iyt6huz0j=function(){var path="/Users/pato/Documents/nodejs-bp-api/tests/services/task.js";var hash="15a766134a20342331f0f512a85a7ea98c0d1c71";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/pato/Documents/nodejs-bp-api/tests/services/task.js",statementMap:{"0":{start:{line:5,column:13},end:{line:5,column:28}},"1":{start:{line:6,column:23},end:{line:6,column:50}},"2":{start:{line:7,column:0},end:{line:7,column:14}},"3":{start:{line:8,column:0},end:{line:8,column:25}},"4":{start:{line:10,column:20},end:{line:10,column:54}},"5":{start:{line:11,column:16},end:{line:11,column:53}},"6":{start:{line:13,column:0},end:{line:44,column:3}},"7":{start:{line:14,column:15},end:{line:14,column:90}},"8":{start:{line:16,column:2},end:{line:16,column:34}},"9":{start:{line:16,column:15},end:{line:16,column:32}},"10":{start:{line:18,column:2},end:{line:24,column:5}},"11":{start:{line:19,column:20},end:{line:19,column:48}},"12":{start:{line:20,column:4},end:{line:20,column:44}},"13":{start:{line:21,column:4},end:{line:23,column:5}},"14":{start:{line:22,column:6},end:{line:22,column:34}},"15":{start:{line:26,column:2},end:{line:28,column:5}},"16":{start:{line:27,column:4},end:{line:27,column:34}},"17":{start:{line:30,column:2},end:{line:35,column:5}},"18":{start:{line:31,column:19},end:{line:31,column:59}},"19":{start:{line:32,column:15},end:{line:32,column:46}},"20":{start:{line:33,column:4},end:{line:33,column:30}},"21":{start:{line:34,column:4},end:{line:34,column:57}},"22":{start:{line:37,column:2},end:{line:41,column:5}},"23":{start:{line:38,column:19},end:{line:38,column:59}},"24":{start:{line:39,column:4},end:{line:39,column:54}},"25":{start:{line:40,column:4},end:{line:40,column:38}},"26":{start:{line:43,column:2},end:{line:43,column:36}},"27":{start:{line:43,column:14},end:{line:43,column:34}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:13,column:25},end:{line:13,column:26}},loc:{start:{line:13,column:31},end:{line:44,column:1}},line:13},"1":{name:"(anonymous_1)",decl:{start:{line:16,column:9},end:{line:16,column:10}},loc:{start:{line:16,column:15},end:{line:16,column:32}},line:16},"2":{name:"(anonymous_2)",decl:{start:{line:18,column:44},end:{line:18,column:45}},loc:{start:{line:18,column:56},end:{line:24,column:3}},line:18},"3":{name:"(anonymous_3)",decl:{start:{line:26,column:23},end:{line:26,column:24}},loc:{start:{line:26,column:29},end:{line:28,column:3}},line:26},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:37},end:{line:30,column:38}},loc:{start:{line:30,column:49},end:{line:35,column:3}},line:30},"5":{name:"(anonymous_5)",decl:{start:{line:37,column:53},end:{line:37,column:54}},loc:{start:{line:37,column:65},end:{line:41,column:3}},line:37},"6":{name:"(anonymous_6)",decl:{start:{line:43,column:8},end:{line:43,column:9}},loc:{start:{line:43,column:14},end:{line:43,column:34}},line:43}},branchMap:{"0":{loc:{start:{line:21,column:4},end:{line:23,column:5}},type:"if",locations:[{start:{line:21,column:4},end:{line:23,column:5}},{start:{line:21,column:4},end:{line:23,column:5}}],line:21}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0,0]},_coverageSchema:"43e27e138ebf9cfc5966b082cf9a028302ed4184",hash:"15a766134a20342331f0f512a85a7ea98c0d1c71"};var coverage=global[gcv]||(global[gcv]={});if(coverage[path]&&coverage[path].hash===hash){return coverage[path];}return coverage[path]=coverageData;}();const chai=(cov_2iyt6huz0j.s[0]++,require('chai'));const chaiAsPromised=(cov_2iyt6huz0j.s[1]++,require('chai-as-promised'));cov_2iyt6huz0j.s[2]++;chai.should();cov_2iyt6huz0j.s[3]++;chai.use(chaiAsPromised);const TodoService=(cov_2iyt6huz0j.s[4]++,require('../../src/services/todo'));const mongoDB=(cov_2iyt6huz0j.s[5]++,require('../../src/loaders/mongoose'));cov_2iyt6huz0j.s[6]++;describe('Todo Service',()=>{cov_2iyt6huz0j.f[0]++;const task=(cov_2iyt6huz0j.s[7]++,{_id:'5d89973cf47adf55979b38c0',title:'test',content:'test',__v:0});cov_2iyt6huz0j.s[8]++;before(()=>{cov_2iyt6huz0j.f[1]++;cov_2iyt6huz0j.s[9]++;return mongoDB.connect();});cov_2iyt6huz0j.s[10]++;it('tasks length should be at least one',async()=>{cov_2iyt6huz0j.f[2]++;const results=(cov_2iyt6huz0j.s[11]++,await TodoService.getTasks());cov_2iyt6huz0j.s[12]++;results.tasks.length.should.be.least(1);cov_2iyt6huz0j.s[13]++;if(results.task===0){cov_2iyt6huz0j.b[0][0]++;cov_2iyt6huz0j.s[14]++;throw new Error('No data!');}else{cov_2iyt6huz0j.b[0][1]++;}});cov_2iyt6huz0j.s[15]++;it('should resolve',()=>{cov_2iyt6huz0j.f[3]++;cov_2iyt6huz0j.s[16]++;return TodoService.getTasks();});cov_2iyt6huz0j.s[17]++;it('should get proper task by ID',async()=>{cov_2iyt6huz0j.f[4]++;const result=(cov_2iyt6huz0j.s[18]++,await TodoService.getTasksById(task._id));const id=(cov_2iyt6huz0j.s[19]++,result.task._doc._id.toString());cov_2iyt6huz0j.s[20]++;id.should.equal(task._id);cov_2iyt6huz0j.s[21]++;Object.keys(result.task._doc).length.should.equal(4);});cov_2iyt6huz0j.s[22]++;it('full fills the promise with the correct task',async()=>{cov_2iyt6huz0j.f[5]++;const result=(cov_2iyt6huz0j.s[23]++,await TodoService.getTasksById(task._id));cov_2iyt6huz0j.s[24]++;result.task._doc._id=result.task._id.toString();cov_2iyt6huz0j.s[25]++;result.task._doc.should.eql(task);});cov_2iyt6huz0j.s[26]++;after(()=>{cov_2iyt6huz0j.f[6]++;cov_2iyt6huz0j.s[27]++;return mongoDB.disconnect();});});